<h2>📊 Nombre moyen de magasins par catégorie</h2>

<!-- ✅ Sélecteur de catégorie -->
<label for="categorySelect">Catégorie :</label>
<select id="categorySelect" [(ngModel)]="selectedCategory">
  <option [value]="null" disabled selected>Choisir une catégorie</option>
  <option *ngFor="let cat of categories" [value]="cat">Catégorie {{ cat }}</option>
</select>

<!-- ✅ Sélecteur d'année -->
<label for="yearSelect">Année :</label>
<select id="yearSelect" [(ngModel)]="selectedYear">
  <option *ngFor="let year of years" [value]="year">{{ year }}</option>
</select>

<!-- ✅ Bouton de recherche -->
<button (click)="onSearch()">🔍 Rechercher</button>

<!-- ✅ Diagramme -->
<div *ngIf="isBrowser && pieChartData">
  <canvas baseChart
    [data]="pieChartData"
    [labels]="pieChartLabels"
    [type]="pieChartType">
  </canvas>
</div>
